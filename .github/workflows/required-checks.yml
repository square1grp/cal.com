---
name: "Meta Workflow: Require Conditional Status Checks"

on:
  pull_request:
    branches:
      - main

jobs:
  required-checks:
    strategy:
      matrix:
        node: ["16.x"]
        os: [ubuntu-latest]
    runs-on: ${{ matrix.os }}

    steps:
      - name: Ensure All Conditional Checks Have Passed
        uses: blend/require-conditional-status-checks@2022.02.04
        with:
          interval: 20s
          checks-yaml: |
            - job: lint
            - job: check-types
              paths:
              - '**.tsx?'
            - job: e2e
              paths:
              - '!apps/web/public/static/locales/**'
              - '!**.md'
            - job: e2e-embed
              paths:
              - 'apps/web/**'
              - '!apps/web/public/**'
              - 'packages/embeds/**'
              - '!**.md'
